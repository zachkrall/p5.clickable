import t from"p5";function i(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function e(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(i){s(t,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))}))}return t}function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function o(t){var i=t.x,e=void 0===i?0:i,s=t.y,o=void 0===s?0:s,h=t.p5instance;this.x=e,this.y=o,this.width=100,this.height=50,this.color="#FFFFFF",this.cornerRadius=10,this.strokeWeight=2,this.stroke="#000000",this.text="Press Me",this.textColor="#000000",this.textSize=12,this.textFont="sans-serif",this.textScaled=!1,this.image=null,this.fitImage=!1,this.imageScale=1,this.tint=null,this.noTint=!0,this.filter=null,this.updateTextSize=function(){if(this.textScaled)for(var t=this.height;t>0;t--)if(getTextBounds(this.text,this.textFont,t)[0]<=this.width&&getTextBounds(this.text,this.textFont,t)[1]<=this.height){console.log("textbounds: "+getTextBounds(this.text,this.font,t)),console.log("boxsize: "+this.width+", "+this.height),this.textSize=t/2;break}},this.updateTextSize(),this.onHover=function(){},this.onOutside=function(){},this.onPress=function(){},this.onRelease=function(){},this.locate=function(t,i){this.x=t,this.y=i},this.resize=function(t,i){this.width=t,this.height=i,this.updateTextSize()},this.drawImage=function(){h.push(),h.imageMode(h.CENTER);var t=this.x+this.width/2,i=this.y+this.height/2,e=this.width,s=this.height;if(this.fitImage){var o=this.image.width/this.image.height,n=this.width/this.height;o>n?(e=this.width,s=this.height*(n/o)):(e=this.width*(o/n),s=this.height)}h.image(this.image,t,i,e*this.imageScale,s*this.imageScale),this.tint&&!this.noTint?h.tint(this.tint):h.noTint(),this.filter&&h.filter(this.filter),h.pop()},this.draw=function(){h.push(),h.fill(this.color),h.stroke(this.stroke),h.strokeWeight(this.strokeWeight),h.rect(this.x,this.y,this.width,this.height,this.cornerRadius),h.fill(this.textColor),h.noStroke(),this.image&&this.drawImage(),h.textAlign(h.CENTER,h.CENTER),h.textSize(this.textSize),h.textFont(this.textFont),h.text(this.text,this.x+this.width/2,this.y+this.height/2),h.pop()}}var h;function n(t){console.log("üèµ%c clickable.js says: %c".concat(t),"color:tomato;","color:unset;")}h="initializing",console.log("üèµ%c clickable.js says: %c".concat(h),"color:#F39120;","color:unset;"),window.hasOwnProperty("p5")||n("p5.js wasn't found");try{t.prototype.__clickable__={cursorStyle:"default",clickables:[],mouseWasPressed:!1,lastHovered:null,lastClicked:null},t.prototype.Clickable=function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];var h=new o(e(e({},i),{},{p5instance:this}));return console.log("this",this),this.__clickable__.clickables.push(h),h},t.prototype.registerMethod("pre",(function(){})),t.prototype.registerMethod("post",(function(){var t=this.__clickable__,i=this.mouseIsPressed,e=this.mouseX,s=this.mouseY,o=t.clickables,h=t.cursorStyle;o.forEach((function(t){var o=t.x,n=t.y,r=t.width,c=t.height,l=e>o&&e<o+r&&s>n&&s<n+c;l||i||(h="default",t.onOutside()),l&&i&&(h="pointer",t.onPress()),l&&!i&&(h="pointer",t.onHover())})),window.document.body.style.cursor!==h&&(window.document.body.style.cursor=h)}))}catch(t){n("the following error occured when trying to initialize clickable"),console.error(t)}
