!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("p5")):"function"==typeof define&&define.amd?define(["p5"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).p5)}(this,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=e(t);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t){var e=t.x,i=void 0===e?0:e,s=t.y,o=void 0===s?0:s,h=t.p5instance;this.x=i,this.y=o,this.width=100,this.height=50,this.color="#FFFFFF",this.cornerRadius=10,this.strokeWeight=2,this.stroke="#000000",this.text="Press Me",this.textColor="#000000",this.textSize=12,this.textFont="sans-serif",this.textScaled=!1,this.image=null,this.fitImage=!1,this.imageScale=1,this.tint=null,this.noTint=!0,this.filter=null,this.updateTextSize=function(){if(this.textScaled)for(var t=this.height;t>0;t--)if(getTextBounds(this.text,this.textFont,t)[0]<=this.width&&getTextBounds(this.text,this.textFont,t)[1]<=this.height){console.log("textbounds: "+getTextBounds(this.text,this.font,t)),console.log("boxsize: "+this.width+", "+this.height),this.textSize=t/2;break}},this.updateTextSize(),this.onHover=function(){},this.onOutside=function(){},this.onPress=function(){},this.onRelease=function(){},this.locate=function(t,e){this.x=t,this.y=e},this.resize=function(t,e){this.width=t,this.height=e,this.updateTextSize()},this.drawImage=function(){h.push(),h.imageMode(h.CENTER);var t=this.x+this.width/2,e=this.y+this.height/2,i=this.width,s=this.height;if(this.fitImage){var o=this.image.width/this.image.height,n=this.width/this.height;o>n?(i=this.width,s=this.height*(n/o)):(i=this.width*(o/n),s=this.height)}h.image(this.image,t,e,i*this.imageScale,s*this.imageScale),this.tint&&!this.noTint?h.tint(this.tint):h.noTint(),this.filter&&h.filter(this.filter),h.pop()},this.draw=function(){h.push(),h.fill(this.color),h.stroke(this.stroke),h.strokeWeight(this.strokeWeight),h.rect(this.x,this.y,this.width,this.height,this.cornerRadius),h.fill(this.textColor),h.noStroke(),this.image&&this.drawImage(),h.textAlign(h.CENTER,h.CENTER),h.textSize(this.textSize),h.textFont(this.textFont),h.text(this.text,this.x+this.width/2,this.y+this.height/2),h.pop()}}var r,c="color:unset;";function l(t){console.log("üèµ%c clickable.js says: %c".concat(t),"color:tomato;",c)}r="initializing",console.log("üèµ%c clickable.js says: %c".concat(r),"color:#F39120;",c),window.hasOwnProperty("p5")||l("p5.js wasn't found");try{i.default.prototype.__clickable__={cursorStyle:"default",clickables:[],mouseWasPressed:!1,lastHovered:null,lastClicked:null},i.default.prototype.Clickable=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=new n(o(o({},e),{},{p5instance:this}));return console.log("this",this),this.__clickable__.clickables.push(s),s},i.default.prototype.registerMethod("pre",(function(){})),i.default.prototype.registerMethod("post",(function(){var t=this.__clickable__,e=this.mouseIsPressed,i=this.mouseX,s=this.mouseY,o=t.clickables,h=t.cursorStyle;o.forEach((function(t){var o=t.x,n=t.y,r=t.width,c=t.height,l=i>o&&i<o+r&&s>n&&s<n+c;l||e||(h="default",t.onOutside()),l&&e&&(h="pointer",t.onPress()),l&&!e&&(h="pointer",t.onHover())})),window.document.body.style.cursor!==h&&(window.document.body.style.cursor=h)}))}catch(t){l("the following error occured when trying to initialize clickable"),console.error(t)}}));
